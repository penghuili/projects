<div class="mst-progress-wrapper">
  <div class="mst-progress-bar" #bar>
    <div class="mst-progress-end-label-wrapper"
      [style.left.px]="barWidth - invalidWidth" *ngIf="endLabel">
      <div class="mst-progress-end-label">{{ endLabel }}</div>
    </div>
    <div class="mst-progress-valid" [style.width.px]="validWidth"></div>
    <div class="mst-progress-invalid" [style.left.px]="validWidth" [style.width.px]="invalidWidth"></div>
    <div class="mst-progress-thumb-wrapper" [style.left.px]="thumbLeft" *ngIf="label !== undefined">
      <div class="mst-progress-thumb-shadow" [class.mst-progress-thumb-shadow--error]="invalidWidth > 0" *ngIf="starting"></div>
      <ng-container [ngSwitch]="icon">
        <mst-play class="mst-progress-thumb" *ngSwitchCase="'play'"
          color="accent" (click)="iconClicked.emit(true)"></mst-play>
        <mst-pause class="mst-progress-thumb" *ngSwitchCase="'pause'"
          color="accent" (click)="iconClicked.emit(true)"></mst-pause>
        <mst-label class="mst-progress-thumb" *ngSwitchDefault
          color="accent" (click)="iconClicked.emit(true)"></mst-label>
      </ng-container>
      <div
        [class.mst-progress-thumb-label-left]="progress < 0.5"
        [class.mst-progress-thumb-label-right]="progress >= 0.5">{{ label }}</div>
    </div>
  </div>
</div>
