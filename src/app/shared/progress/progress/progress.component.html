<div class="mst-progress-wrapper">
  <div class="mst-progress-bar" #bar>
    <div class="mst-progress-end-label-wrapper"
      [style.left.px]="barWidth - invalidWidth" *ngIf="endLabel">
      <div class="mst-progress-end-label">{{ endLabel }}</div>
    </div>
    <div class="mst-progress-valid" [style.width.px]="validWidth"></div>
    <div class="mst-progress-invalid" [style.left.px]="validWidth" [style.width.px]="invalidWidth"></div>
    <div class="mst-progress-thumb-wrapper" [style.left.px]="thumbLeft" *ngIf="label !== undefined">
      <div class="mst-progress-thumb-shadow" [class.mst-progress-thumb-shadow--error]="invalidWidth > 0" *ngIf="starting"></div>
      <mst-icon class="mst-progress-thumb" [name]="icon" color="accent" (click)="iconClicked.emit(true)"></mst-icon>
      <div
        [class.mst-progress-thumb-label-left]="progress < 0.5"
        [class.mst-progress-thumb-label-right]="progress >= 0.5">{{ label }}</div>
    </div>
  </div>
</div>
